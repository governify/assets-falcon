<!DOCTYPE html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="https://fonts.googleapis.com/css?family=Didact+Gothic" rel="stylesheet" />
	<link href="$_[infrastructure.external.assets.default]/api/v1/public/renders/index/default.css" rel="stylesheet" type="text/css" media="all" />
	<link href="$_[infrastructure.external.assets.default]/api/v1/public/renders/index/fonts.css" rel="stylesheet" type="text/css" media="all" />
</head>

<style>
	body {
		background: url("$_[infrastructure.external.assets.default]/api/v1/public/renders/index/images/blue_mountains_1.jpg") !important;
		background-size: auto !important;
		background-attachment: fixed !important;
	}

    .container{
        max-width: 1200px !important;
    }
</style>

<body>

    <div id="wrapper" style="padding: 0 0 40px 0; margin: 5vh 0; min-height: 90vh;">
		<div id="three-column" class="container" style="margin: 0; padding: 0; width: 100%;">
            
            <!-- upper-side buttons -->
            <span class="col-xs-offset-9" 
				style="position:absolute; top:10px; left:10px; margin:0;">				
				<a href="./render?model=$_[infrastructure.internal.assets.default]/api/v1/public/renders/commons-ui/model.json&view=$_[infrastructure.internal.assets.default]/api/v1/public/renders/commons-ui/view.html&ctrl=$_[infrastructure.internal.assets.default]/api/v1/public/renders/commons-ui/controller.js"
					class="btn btn-primary btn-sm">
					Admin UI
				</a>
            </span>
            
            <!-- ---------------- Basics ---------------- -->
            <div class="title" style="padding: 55px 0; margin: 0">
                <h2>FALCON</h2>
                <span>Sistema de monitorizaci&oacute;n de infraestructuras</span>
            </div>
      
            <div id="version" style="position: absolute; bottom: 10px; right:10px; color:black">
                {{model.version}}
            </div>

            <!--------------------- BOXES ---------------------------->
            
            <!-- NON MONITORED INFRASTRUCTURES -->
            <div ng-if="finishloading && notmonitoring.length !== 0" style="padding: 15px 0 50px 0">
                <div style="padding: 0;">
                    <div class="card" style="margin: 50 100 15 100; padding: 10 30 25 30;">
                        <div class="card-body">
                        <h3 class="card-title" style="padding-bottom: 20px;">INFRAESTRUCTURAS DISPONIBLES</h3>
                            <ul>
                                <!-- SLA -->
                                <li ng-repeat="tpa in notmonitoring" style="padding: 0.5em; text-align: left; font-size: 18px;">
                                    <p class="card-subtitle mb-2 text-muted" style="display: inline-block;">{{tpa.name ? tpa.name:tpa.id}}</p>
                                    <a  ng-click="start_monitoring(tpa);"
                                        class="btn btn-success"
                                        style="margin-left: 0.5em;padding: 0 5px; float: right; color:white;">
                                        ▶ &ThickSpace;Monitorear
                                    </a>
                                    <a href="./render?model=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.json&view=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.html&ctrl=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.js"
                                        target="_blank" class="btn btn-info"
                                        style="margin-left: 0.5em;padding: 0 5px; float: right; color:white;">
                                        ANS
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MONITORED INFRASTRUCTURES -->
            <hr ng-if="finishloading && notmonitoring.length !== 0 && alreadymonitoring.length !== 0" 
                id="separator" class="solid" style="margin: 0 50px;">
            </hr>

            <div style="padding: 15px 0 50px 0">
                <div ng-if="finishloading && alreadymonitoring.length !== 0" style="padding: 0;">
                    <div ng-repeat="tpa in alreadymonitoring" class="card" style="margin: 50 100 15 100; padding: 10 30 25 30;">
                        <div class="card-body">
                        <h3 class="card-title" style="padding-bottom: 20px;">{{tpa.name ? tpa.name:tpa.id}}</h3>
                            <ul>
                                <!-- SLA -->
                                <li style="padding: 0.5em; text-align: left; font-size: 18px;">
                                    <p class="card-subtitle mb-2 text-muted" style="display: inline-block;">Ver acuerdo</p>
                                    <a href="./render?model=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.json&view=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.html&ctrl=$_[infrastructure.internal.assets.default]/api/v1/public/renders/renders/OT2/oti.js"
                                        target="_blank" class="btn btn-info"
                                        style="margin-left: 0.5em;padding: 0 5px; float: right; color:white;">
                                        ANS
                                    </a>
                                </li>

                                <!-- COMPLETE VIEW -->
                                <li style="padding-left: 1.5em; text-align: left;">
									<p class="card-subtitle mb-2 text-muted" style="display: inline-block;" >Vista completa</p>
									<a href="$_[infrastructure.external.dashboard.default]/dashboard/script/dashboardLoader.js?dashboardURL=$_[infrastructure.external.reporter.default]/api/v4/dashboards/nexo_cc_ans/galibo-individual-completo&var-Servicio=All&kiosk=tv&from=now-60d&to=now"
									    target="_blank" class="btn btn-success"
										style="margin-left: 0.5em; padding: 0 5px; float: right;">
										Detallado
									</a>
									<a href="$_[infrastructure.external.dashboard.default]/dashboard/script/dashboardLoader.js?dashboardURL=$_[infrastructure.external.reporter.default]/api/v4/dashboards/nexo_cc_ans/galibo-general-completo&var-Servicio=All&kiosk=tv&from=now-60d&to=now"
										target="_blank" class="btn btn-success"
										style="margin-left: 0.5em; padding: 0 5px; float: right;">
										General
									</a>
									<a href="$_[infrastructure.external.dashboard.default]/dashboard/script/dashboardLoader.js?dashboardURL=$_[infrastructure.external.reporter.default]/api/v4/dashboards/nexo_cc_ans/galibo-agrupado-consejerias&var-Servicio=All&kiosk=tv&from=now-60d&to=now"
										target="_blank" class="btn btn-success"
										style="margin-left: 0.5em; padding: 0 5px; float: right;">
										Agrupado servicios
									</a>
                                </li>

                                <!-- SERVICES -->
                                <li ng-repeat="service in tpa.context.definitions.group.services" style="padding: 0.20em; margin-left:2.0em; text-align: left; display:block">									
									<i>◽&ThickSpace;&ThickSpace;{{service}}</i>
									<a target="_blank"
										href="$_[infrastructure.external.dashboard.default]/dashboard/script/dashboardLoader.js?dashboardURL=$_[infrastructure.external.reporter.default]/api/v4/dashboards/nexo_cc_ans/galibo-individual{{consejeria.urlVariables}}&var-Consejeria={{consejeria.name}}&kiosk=tv&from=now-60d&to=now"
										class="btn btn-success"
										style="margin-left: 0.5em; padding: 0 5px; float: right;">
										Detallado
									</a>
									<a target="_blank"
										href="$_[infrastructure.external.dashboard.default]/dashboard/script/dashboardLoader.js?dashboardURL=$_[infrastructure.external.reporter.default]/api/v4/dashboards/nexo_cc_ans/galibo-general{{consejeria.urlVariables}}&var-Consejeria={{consejeria.name}}&kiosk=tv&from=now-60d&to=now"
										class="btn btn-success"
										style="margin-left: 0.5em; padding: 0 5px; float: right;">
										General
									</a>
								</li>
                            </ul>
                        </div>
                    </div>
                </div>
			</div>          
        </div>
	</div>
</body>

</html>